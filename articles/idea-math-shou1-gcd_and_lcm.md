---
title: 最小公倍数ってどうなってるの？すだれ算とブロックで仕組みを解説
emoji: 🧱
type: idea
tags: ["math", "gcd", "lcm", "初心者", "すだれ算"]
publication_name: "algorithm_math"
published: true
published_at: 2025-07-02 18:00
---

# 最大公約数を求めるとは？
2つの数を横と縦が1×1のブロックの塊であると見立てると分かりやすい。
||
|----|

例えば、3と15の最大公約数が3の場合を見てみると
$15×3$のブロックがあったとして
||||||||||||||||
|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|
||||||||||||||||
|||||||||||||||

横を5にしたときに縦が1になるから
これは$5×1$のブロックの集まりであると分かる
||||||
|----|----|----|----|----|

横と縦の長さが元の大きさと比較して何分の1になっているか？
それを求めるのが最大公約数を求めること
この場合であれば3である

# 最小公倍数を求めるとは？
最大公約数を求めるときに使ったブロックを活用する
$5×1$のブロックが正方形になるように何個も並べると
横に6個、縦に30個並べることになる
|$5×1$が縦に10個|左に同じ|||||
|----|----|----|----|----|----|
|上に同じ||||||
|||||||

縦の1を基準にすると正方形の1辺は30であると分かる
この数が最小公倍数である

もともとの$15×3$のブロックで並べれば
横に2個、縦に10個並べることになる
|$15×3$が縦に10個|左に同じ|
|----|----|

正方形の1辺は$10×3=30$で$5×1$のブロックと同じ
すなわち、最大公約数の倍数が最小公倍数になっている

# ある3つの数について最小公倍数を求めるには？
3つの数の公約数以外に2つの数の公約数が生じるため変則すだれ算をつかう

ある3つの数の変則すだれ算
$2\; \rparen \underline{\; 12 \quad 15 \quad 40}$
$2\; \rparen \underline{\;\;\: 6 \quad 15 \quad 20}$
$3\; \rparen \underline{\;\;\: 3 \quad 15 \quad 10}$
$5\; \rparen \underline{\;\;\: 1 \quad\;\: 5 \quad 10}$
$\;\:\; \, \;\:\;\: 1 \quad \;\: 1 \quad \;\: 2$

＊この例で、3つの数の公約数はひとつもない

3つの数で変則すだれ算を使うときは、まず小さい素数から順に、「この素数でどの数が割れるか？」を調べていく。

このとき、3つすべてが割れる場合は、その素数は段の公約数であり、3つの数の公約数である。

しかし、すべての素数で3つの数が割れるとは限らない。
2つの数しか割れない場合でも、変則すだれ算では「割れる数だけ」を割って処理を進めていく。

こうして、割れる数がなくなるまで処理を続けると、すだれは完成する。

ここでポイントなのは、「ある段に参加していない数（＝割れなかった数）」がいたとしても、その段で割られた他の数と一緒に最小公倍数を構成する際に、最終的にはその数の倍数も含まれるようになるということ。

なぜなら、下の段から「段ごとの部分最小公倍数」を計算していくと、それまでの部分最小公倍数（下の段で積み重ねてきたもの）に「段ごとの2つの数の公約数」を掛けていく構造になっている。

例えば
$5\; \rparen \underline{\;\;\: 1 \quad\;\: 5 \quad 10}$
$\;\:\; \, \;\:\;\: 1 \quad \;\: 1 \quad \;\: 2$

この3つの数の最小公倍数は$1×1×2×5=10$である。
この段だけに限定すれば最大公約数は5である。
すなわち、最大公約数の倍数が最小公倍数である。
1辺の長さが10の正方形が完成。

上の段を追加すると
$3\; \rparen \underline{\;\;\: 3 \quad 15 \quad 10}$
$5\; \rparen \underline{\;\;\: 1 \quad\;\: 5 \quad 10}$
$\;\:\; \, \;\:\;\: 1 \quad \;\: 1 \quad \;\: 2$

この場合の最小公倍数は$10×3=30$である。
先程の正方形を横に3個、縦に3個並べるという意味。
この計算をすべての段が完了するまで繰り返す。

これで、「段ごとの部分最小公倍数」に「段ごとの公約数」を掛ければ「上段の部分最小公倍数」を求めることができる。

この「段ごとの公約数」を掛けるという操作によって、無視された数も、その時点での部分最小公倍数の倍数になっていると確認できる。
つまり、途中で一時的に無視していても、最終的にはすべての数の倍数になるように構成されるというわけ。

だからこのやり方で、3つの数の最小公倍数が求まる。
各段での処理が「部分最小公倍数」を積み上げる形になっているため、全体の最小公倍数を構築できることが論理的に保証されている。
